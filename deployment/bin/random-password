#!/usr/bin/env python

from __future__ import print_function

import binascii
import os
import yaml

def main():
    with open('aws-config/90generated-password.yaml', 'w') as o:
        password = binascii.b2a_hex(os.urandom(8))
        config = dict(ADMIN_PASSWORD=password)
        o.write("# Automatically generated by bin/random-password\n")
        yaml.dump(config, stream=o)

if __name__ == '__main__':
    main()
