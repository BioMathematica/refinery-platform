{% extends "base.html" %}

{% block head_html %}

    <style type="text/css">

svg {
	background-color: none;
	padding: 5px;
	margin-top: 15px;
	margin-bottom: 15px;
}    
.background {
  fill: #777;
}

line {
  stroke: #eee;
}

text.active {
  fill: red;
}

rect.frame {
  stroke: #f0f0f0;
}

rect.active {
  fill: red;
}

	.pivot-matrix {
		background-color: #f00;
	}

    
 	.facet-title {
 		cursor:pointer; 		
 	} 	

 	.facet-value {
 		cursor:pointer; 		
 	}

 	tr th {
 		cursor:pointer;
 	}
 	 
 	.field-name {
 		cursor:pointer;
 	} 
 	 	
 	#facet-view .active {
 		cursor:pointer; 
 		background-color: #3A87AD;
 		color: #fff;
 		font-weight: bold;
 	} 	
 	
 	#pager-view {
 		text-align:right;
 	}

 	#statistics-view {
 		text-align:right;
 	}
 	#url-view {
 		text-align:right;
 	}

 	.facet-value-list td {
 		padding: 2px; 		
 	}
 	.facet-value-list tr {
 		padding: 2px; 		
 	}
 	
 	.facet-value-list.selected {
 	}
 	
 	.facet-title {
 		margin-top: 10px;
 	}
    </style>
{% endblock %}

{% block title %}

{{ block.super }} - Contents
{% endblock %}

{% block subheader %}
<div class="page-header">
  	<h1>Assay <small>Files</small></h1>
</div>
{% endblock %}

{% block content %}

				<form id="sampleForm" method="post" class="form-inline">
    			{% csrf_token %}
 
<div class="row-fluid">
 	<div class="span3">
 				<!-- <form class="form-search form-inline" id="search_form"> -->
  					<input type="text" class="input-medium search-query" placeholder="Search">
 		 			<button type="submit" class="btn" onclick="AddSearchTerm(); return false;">Search</button>
				<!-- </form> -->
 	</div>	
 	
 	<div class="span6">
 	
 			<div class="row-fluid">
			<div> 				
				<select class="combobox" name="workflow_choice" id="workflow_choice">
					<option></option>
					{% for work in workflows %}
						<option value="{{work.uuid}}">{{work.name}}</option>
					{% endfor %}
				</select>			
					
				<!-- <button class="btn btn-primary" id="submitSamplesBtn"><i class="icon-road"></i>Run</button> -->
				<a href="#" class="btn" id="submitSamplesBtn">Apply</a> &nbsp;
				
				<!-- <a href="{% url igv_session %}">IGV</a> -->
				<a class="btn" id="igv-session-link" href="#">IGV</a>
				<a class="btn" id="profile-viewer-session-link" href="#">Profile</a>
			</div>
			
    			    		
    	</div>	
 	</div>	
 	<div class="span3">
		<div id="statistics-view"></div> 		
 	</div>	
</div>

<div class="row-fluid">
 	
 	<div class="span3">
			<ul class="nav nav-pills" id="navigation-tabs">
			  <li class="active"><a href="#facet-view" data-toggle="pill">Facets</a></li>
			</ul> 		
			<div id="facet-view" class="accordion"></div>
 	</div>	
 	
 	<div class="span9"> 			
		
		<div class="row-fluid">
		<div class="tabbable">
			<ul class="nav nav-pills" id="navigation-tabs">
			  <li class="active"><a href="#table-view-tab" data-toggle="pill">List</a></li>
			  <li><a href="#pivot-view-tab" data-toggle="pill">Matrix</a></li>
			</ul>

			<div class="tab-content">
			  <div class="tab-pane active fade in" id="table-view-tab">
				<div id="table-view"></div>
				<div id="pager-view"></div>
				<div id="field-view"></div>  	
			  </div>
			  <div class="tab-pane fade in" id="pivot-view-tab">
			  	<div id="pivot-view">			  		
			  	</div>			  	
			  	<div id="pivot-matrix">
			  		<!-- the matrix -->
			  	</div>
			  </div>
			</div>
		</div>			
		</div>
		
	</div>
	
</div>

<div class="row-fluid">
 	<div class="span12">
	 	<div id="url-view"></div>
 	</div>		 
</div>
<form></form>

{% endblock %}

{% block script %}
	<script type="text/javascript" src="{{ STATIC_URL }}js/bootstrap/js/bootstrap-collapse.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/d3/d3.v2.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/d3/fisheye.js"></script>

	<!-- Refinery libraries -->
	<script type="text/javascript">
		var SOLR_BASE_URL = "{{ REFINERY_SOLR_BASE_URL }}"
	</script>	
    <script type="text/javascript" src="{{ STATIC_URL }}js/refinery/viewers/pivot-matrix.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}js/refinery/contents_workflow.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/refinery/contents.js"></script>
{% endblock %}    

